<!doctype html>
<html>
<head>
<body>
</body>

    <script>
    
    let computerWins = 0
    let playerWins = 0

    function getRndInteger(min, max) {
        return Math.floor(Math.random() * (max - min) ) + min;
    }

    function capitalizeFirstLetter(string) {
        let stringLength = string.length;
        let lowerCaseWord = string.toLowerCase();
        let firstLetter = (string.slice(0, 1)).toUpperCase();
        return firstLetter + lowerCaseWord.slice(1, stringLength); 
    }  
//Gets a random play from the 'computer'
    function computerPlay() {
        computerChoice = 0;
        let x = getRndInteger(1, 4);
        if (x == 1) {
            computerChoice = 'Rock';
        }
        else if (x == 2) {
            computerChoice = 'Paper';
        }
        else {
            computerChoice = 'Scissors';    
        };
        return computerChoice;
        }
//Gets a choice from the player
    function getPlayerChoice() {
        let playerChoice = capitalizeFirstLetter(prompt('Choose either Rock, Paper or Scissors.'));
        if (playerChoice != 'Rock' && playerChoice != 'Paper' && playerChoice != 'Scissors') {
            playerChoice = capitalizeFirstLetter(prompt("That's not quite right. Please choose either Rock, Paper or Scissors."));
        } 
        return playerChoice;
    }

    function getNumberRounds() {
        let numberRounds = Number(prompt("How many rounds would you like to play?"));
        if (typeof numberRounds !== Number) {
            numberRounds = Number(prompt("Please enter a number."));
        }
        return numberRounds;
    }

//Plays one round of the game  
    function playRound(playerSelection, computerSelection) {
        console.log(`The computer played ${computerSelection}`)
        if (computerSelection == 'Rock' && playerSelection == 'Paper' || computerSelection == 'Paper' && playerSelection == 'Rock' || computerSelection == 'Scissors' && playerSelection == 'Paper') {
            console.log(`You Lost! ${computerSelection} beats ${playerSelection}`);
            computerWins += 1;
        }
        else if (playerSelection == 'Rock' && computerSelection == 'Scissors' || 
        playerSelection == 'Paper' && computerSelection == 'Rock' ||
        playerSelection == 'Scissors' && computerSelection == 'Paper') {
            console.log(`You Won! ${playerSelection} beats ${computerSelection}!`);
            playerWins += 1;
        }
        else {
            console.log(`It's a draw! You both played ${playerSelection}.`);
        }
        }

//Plays the game for a pre-determined number of rounds
    function game(rounds) {
        while (rounds > 0) {
            playRound(getPlayerChoice(), computerPlay());
            rounds -= 1;
            console.log(`There are ${rounds} rounds left.`);
        }
        if (computerWins > playerWins) {
            console.log(`Bad Luck! You've lost ${computerWins} rounds to ${playerWins}!`);
        }
        else if (playerWins > computerWins) {
            console.log(`Congratulations! You've won ${playerWins} rounds to ${computerWins}!`);
        }
        else {
            console.log(`Can you believe it's a draw?! Both you and the computer have won ${playerWins} rounds.`);
        }
        }
    
    game(getNumberRounds())


    </script>

</head>

</html>